# SPE10 Benchmark Configuration
# Large-Scale Heterogeneous Reservoir (Model 2)

[SIMULATION]
name = SPE10_Heterogeneous
start_time = 0.0
end_time = 1.5768e9               # ~50 years
dt_initial = 8.64e4               # 1 day
dt_min = 1.0e3
dt_max = 2.592e6                  # 30 days
max_time_steps = 10000
output_frequency = 100
output_format = HDF5
output_dir = output/spe10
checkpointing = true
checkpoint_frequency = 500

# Physics models
fluid_model = TWO_PHASE           # Water-oil
enable_geomechanics = false
enable_thermal = false

# Solver settings
rtol = 1.0e-5
atol = 1.0e-7
max_iterations = 50
use_adaptive_timestep = true

# Parallel performance
use_parallel_io = true

[GRID]
type = CARTESIAN
nx = 60
ny = 220
nz = 85
Lx = 365.76                       # 1200 ft
Ly = 670.56                       # 2200 ft
Lz = 51.816                       # 170 ft

[ROCK]
# Heterogeneous permeability field
# In practice, this would be loaded from SPE10 data file
# For now, use statistical description

# Layer 1-35: Tarbert formation (fluvial)
# Layer 36-85: Upper Ness formation (deltaic)

porosity_mean = 0.20
porosity_stddev = 0.05
porosity_min = 0.05
porosity_max = 0.35

# Permeability varies from 0.001 to 20,000 mD (8 orders of magnitude!)
permeability_mean = 100.0         # milliDarcy (geometric mean)
permeability_stddev = 2.0         # log10 standard deviation
permeability_min = 0.001
permeability_max = 20000.0

# Vertical to horizontal permeability ratio
permeability_anisotropy = 0.1

# Use permeability field from file (SPE10 dataset)
use_permeability_field = true
permeability_field_file = data/spe10_perm.dat

compressibility = 4.35e-10
density = 2650.0

[FLUID]
# Two-phase flow: water and oil
oil_density = 850.0               # kg/m³
oil_viscosity = 0.003             # Pa·s (3 cP)
oil_compressibility = 1.45e-9

water_density = 1000.0
water_viscosity = 0.0003          # Pa·s (0.3 cP)
water_compressibility = 4.35e-10

[PRESSURE]
initial_pressure = 4.00e6         # 580 psi
pressure_gradient_z = 10000.0     # Approximately hydrostatic

[SATURATION]
initial_oil_saturation = 1.0      # Initially oil saturated
initial_water_saturation = 0.0
residual_oil_saturation = 0.20
residual_water_saturation = 0.20
residual_gas_saturation = 0.0

[RELPERMS]
# Corey correlation
oil_endpoint = 1.0
water_endpoint = 0.3
oil_exponent = 2.0
water_exponent = 2.0

[WELL1]
name = INJ1
type = INJECTOR
i = 1
j = 1
k = 1
kmax = 85
diameter = 0.2286                 # 9 inches
fluid_type = WATER
control_mode = RATE
target_rate = 0.1                 # m³/s
max_bhp = 5.52e7                  # 8000 psi

[WELL2]
name = PROD1
type = PRODUCER
i = 60
j = 220
k = 1
kmax = 85
diameter = 0.2286
control_mode = BHP
target_bhp = 2.76e7               # 4000 psi
max_rate = 0.2                    # m³/s

[BC1]
type = NEUMANN
field = PRESSURE
location = ALL
value = 0.0                       # No-flow boundaries

[OUTPUT]
save_pressure = true
save_saturation = true
save_velocity = true
save_well_data = true
save_performance_data = true
save_subsurface_properties = true

# For large-scale runs, reduce output frequency
output_decimation_x = 2           # Output every 2nd cell in x
output_decimation_y = 2
output_decimation_z = 1
