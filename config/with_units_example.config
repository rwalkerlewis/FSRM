# ============================================================================
# FSRM Configuration with Unit System Examples
# ============================================================================
# This configuration demonstrates the comprehensive unit system.
# 
# You can specify values with units in ANY supported format, and they will
# be automatically converted to SI base units (m, kg, s) for calculations.
#
# Format: parameter = value unit
# Example: pressure = 5000 psi
#          permeability = 100 mD
#          viscosity = 5 cP
#
# If no unit is specified, the default unit (usually SI) is assumed.
# ============================================================================

[SIMULATION]
# Time parameters - demonstrating various time units
start_time = 0 s
end_time = 30 day                      # Automatically converted to seconds
dt_initial = 1 hr                      # Hours to seconds
dt_min = 1 s
dt_max = 12 hr
max_timesteps = 1000

# Output control
output_frequency = 10
output_format = VTK
enable_checkpointing = true
checkpoint_frequency = 50

# Solver tolerances (dimensionless)
rtol = 1.0e-6
atol = 1.0e-8
max_nonlinear_iterations = 50
max_linear_iterations = 1000

# Physics models
fluid_model = BLACK_OIL
solid_model = POROELASTIC
enable_geomechanics = true
enable_thermal = false
enable_fractures = true
adaptive_timestepping = true

[GRID]
# Grid dimensions
nx = 50
ny = 50
nz = 20

# Domain size - demonstrating length units
Lx = 1 km                              # Converted to meters
Ly = 1 km
Lz = 100 m

# Domain origin
origin_x = 0 m
origin_y = 0 m
origin_z = -2000 m                     # Depth (negative z)

mesh_type = CARTESIAN
use_unstructured = true              # All grids use DMPlex

[ROCK]
# Rock properties demonstrating various units

# Flow properties
porosity = 0.22                        # Dimensionless (fraction)
permeability_x = 150 mD                # Millidarcy to m²
permeability_y = 150 mD
permeability_z = 15 mD                 # Vertical permeability
compressibility = 5.0e-10 1/Pa         # Rock compressibility

# Mechanical properties - various stress/modulus units
youngs_modulus = 15 GPa                # Gigapascal to Pascal
poisson_ratio = 0.23                   # Dimensionless
density = 2.55 g/cm3                   # g/cm³ to kg/m³
biot_coefficient = 0.85                # Dimensionless

# Thermal properties
thermal_conductivity = 2.5 W/(m-K)
heat_capacity = 920 J/(kg-K)
thermal_expansion = 2.5e-5 1/K

# Fracture properties
fracture_toughness = 1.2 MPa-m0.5      # Fracture toughness
fracture_energy = 150 J/m2

[FLUID]
# Black oil properties with field units

# Oil properties
oil_density_std = 850 kg/m3            # Standard conditions density
oil_viscosity = 5 cP                   # Centipoise to Pa·s
oil_api = 35.0                         # API gravity (special handling)

# Gas properties
gas_density_std = 0.8 kg/m3
gas_viscosity = 0.012 cP               # Very low viscosity

# Water properties
water_density_std = 1020 kg/m3         # Brine density
water_viscosity = 0.5 cP               # Water viscosity
water_compressibility = 4.5e-10 1/Pa

# PVT properties
solution_gor = 150                     # scf/stb (dimensionless ratio)
bubble_point_pressure = 2500 psi       # psi to Pa

# Relative permeability parameters (dimensionless)
swc = 0.20                             # Connate water saturation
sor = 0.25                             # Residual oil saturation
sgc = 0.05                             # Critical gas saturation
corey_nw = 2.5
corey_no = 2.0
corey_ng = 2.0

[WELL1]
name = PROD1
type = PRODUCER
i = 25
j = 25
k = 15

# Control parameters with field units
control_mode = BHP                     # Bottom hole pressure control
target_value = 2000 psi                # Minimum BHP
max_rate = 5000 bbl/day                # Maximum oil rate
min_bhp = 1800 psi
diameter = 8 in                        # 8 inch wellbore
skin = 2.5                             # Dimensionless

[WELL2]
name = INJ1
type = INJECTOR
i = 10
j = 10
k = 15

control_mode = RATE                    # Rate control
target_value = 8000 bbl/day            # Water injection rate
max_rate = 10000 bbl/day
min_bhp = 6000 psi                     # Maximum injection pressure
diameter = 7 in                        # 7 inch injector
skin = 0.0

[FRACTURE1]
type = HYDRAULIC
# Location: x, y, z, normal_x, normal_y, normal_z
location = 500 m, 500 m, -2050 m, 1, 0, 0

# Fracture properties
aperture = 0.5 mm                      # Millimeters to meters
permeability = 1000 D                  # Darcy (very permeable)
length = 200 m
height = 50 m
toughness = 1.5 MPa-m0.5
energy = 200 J/m2
enable_propagation = true
enable_proppant = true

[FAULT1]
name = MAIN_FAULT
# Fault geometry
strike = 45 deg                        # Degrees to radians
dip = 70 deg
length = 2 km                          # 2 kilometers
width = 1.5 km

# Mechanical properties
static_friction = 0.65
dynamic_friction = 0.45
cohesion = 2 MPa                       # Megapascal
normal_stress = 30 MPa                 # Initial normal stress
shear_stress = 15 MPa                  # Initial shear stress

# Rate-and-state friction
use_rate_state = true
a_parameter = 0.010
b_parameter = 0.015
Dc_parameter = 0.5 mm                  # Critical slip distance

[BC1]
# Boundary condition with pressure in field units
type = DIRICHLET
field = PRESSURE
location = XMIN
value = 4000 psi                       # Converted to Pa

[BC2]
type = DIRICHLET
field = PRESSURE
location = XMAX
value = 3800 psi

[BC3]
# Stress boundary condition
type = NEUMANN
field = DISPLACEMENT
location = ZMIN                        # Bottom boundary
value = 0 m                            # Fixed

[BC4]
# Overburden stress
type = NEUMANN
field = STRESS
location = ZMAX                        # Top boundary
value = 45 MPa                         # Overburden stress

[IC1]
# Initial pressure with gradient
field = PRESSURE
distribution = GRADIENT
value = 4000 psi                       # Reference pressure at top
gradient = 0, 0, 0.45 psi/ft          # Hydrostatic gradient (z-direction)

[IC2]
# Initial temperature
field = TEMPERATURE
distribution = GRADIENT
value = 60 degF                        # Surface temperature in Fahrenheit
gradient = 0, 0, 0.02 degF/ft         # Geothermal gradient

[OUTPUT]
# Output configuration with unit preferences
format = VTK
path = output_with_units
frequency = 5

# Field output flags
pressure = true
displacement = true
stress = true
strain = true
velocity = false
permeability = true
temperature = false
saturation = true
fault_slip = true

# Output unit preferences (how to display results)
pressure_unit = psi                    # Display pressure in psi
displacement_unit = mm                 # Display displacement in mm
stress_unit = MPa                      # Display stress in MPa
permeability_unit = mD                 # Display permeability in mD
density_unit = kg/m3                   # Display density in kg/m³
viscosity_unit = cP                    # Display viscosity in cP
length_unit = m                        # Display length in meters
time_unit = day                        # Display time in days
temperature_unit = degC                # Display temperature in Celsius

# ============================================================================
# UNIT SYSTEM CAPABILITIES
# ============================================================================
#
# Length: m, cm, mm, km, um, nm, ft, in, yd, mi, angstrom
# Mass: kg, g, mg, tonne, t, lbm, oz, slug, ton
# Time: s, ms, us, min, hr, day, week, year
# Area: m2, cm2, mm2, km2, ha, ft2, in2, yd2, mi2, acre
# Volume: m3, cm3, mm3, L, mL, ft3, in3, gal, bbl, stb, rb, sm3, scf, Mcf, MMcf
# Angle: rad, deg, grad
# Velocity: m/s, cm/s, km/h, ft/s, ft/min, mph, m/day, ft/day
# Acceleration: m/s2, ft/s2, gal, g
# Force: N, kN, dyne, lbf, kip
# Pressure: Pa, kPa, MPa, GPa, bar, mbar, atm, psi, psf, ksi, torr, mmHg, inHg
# Energy: J, kJ, MJ, erg, cal, kcal, BTU, ft-lbf, Wh, kWh, eV
# Power: W, kW, MW, hp, PS, BTU/hr
# Density: kg/m3, g/cm3, lbm/ft3, lbm/gal, API
# Viscosity (dynamic): Pa-s, cP, P, mPa-s, lb/ft-s
# Viscosity (kinematic): m2/s, cSt, St
# Permeability: m2, cm2, D, mD, uD
# Volumetric Rate: m3/s, m3/day, L/s, ft3/s, ft3/day, gpm, bbl/day, stb/day, 
#                  Mcf/day, MMcf/day
# Mass Rate: kg/s, kg/day, tonne/day, lbm/s, lbm/day
# Temperature: K, R, degC, degF
# Thermal conductivity: W/(m-K), BTU/(hr-ft-degF)
# Heat capacity: J/(kg-K), BTU/(lbm-degF)
# Thermal expansion: 1/K, 1/degC, 1/degF
# Stress/Modulus: Pa, kPa, MPa, GPa, psi, ksi
# Fracture Toughness: Pa-m0.5, MPa-m0.5, psi-in0.5, ksi-in0.5
# Compressibility: 1/Pa, 1/kPa, 1/MPa, 1/psi, 1/bar
# Productivity Index: m3/(s-Pa), m3/(day-bar), bbl/(day-psi)
#
# Mix and match units as needed! All calculations use SI base units internally.
# ============================================================================
