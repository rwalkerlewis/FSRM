# ReservoirSim Complete Configuration Template
# This file shows ALL available options with descriptions
# All units in SI unless otherwise specified

#==============================================================================
# SIMULATION CONTROL
#==============================================================================

[SIMULATION]
# Time control (seconds)
start_time = 0.0
end_time = 86400.0                    # 1 day
dt_initial = 3600.0                   # 1 hour
dt_min = 1.0
dt_max = 86400.0
max_timesteps = 10000

# Output control
output_frequency = 10                 # Write output every N steps
output_format = VTK                   # VTK, HDF5, or ECLIPSE
enable_checkpointing = true
checkpoint_frequency = 100

# Solver tolerances
rtol = 1.0e-6                         # Relative tolerance
atol = 1.0e-8                         # Absolute tolerance
max_nonlinear_iterations = 50         # Newton iterations
max_linear_iterations = 1000          # Krylov iterations

# Physics models
fluid_model = SINGLE_COMPONENT        # SINGLE_COMPONENT, BLACK_OIL, COMPOSITIONAL
solid_model = ELASTIC                 # ELASTIC, VISCOELASTIC, POROELASTIC, THERMOELASTIC

# Physics flags (set to true to enable)
enable_geomechanics = false
enable_thermal = false
enable_fractures = false
enable_particle_transport = false
enable_faults = false
enable_tidal_forces = false
adaptive_timestepping = true

#==============================================================================
# GRID / MESH
#==============================================================================

[GRID]
# Structured grid dimensions
nx = 20                               # Number of cells in X
ny = 20                               # Number of cells in Y
nz = 5                                # Number of cells in Z

# Domain size (meters)
Lx = 1000.0                           # Length in X
Ly = 1000.0                           # Length in Y
Lz = 100.0                            # Length in Z (thickness)

# Mesh type
use_unstructured = false              # true for DMPlex, false for DMDA
mesh_file =                           # Path to mesh file if unstructured

#==============================================================================
# ROCK / FORMATION PROPERTIES
#==============================================================================

[ROCK]
# Porosity and permeability
porosity = 0.20                       # Fraction (0-1)
permeability_x = 100.0                # milliDarcy
permeability_y = 100.0                # milliDarcy
permeability_z = 10.0                 # milliDarcy (often lower)
compressibility = 1.0e-9              # 1/Pa

# Mechanical properties
youngs_modulus = 10.0e9               # Pa (10 GPa)
poisson_ratio = 0.25                  # Dimensionless (0-0.5)
density = 2500.0                      # kg/m³
biot_coefficient = 1.0                # Dimensionless (0-1)

# Viscoelastic properties (if solid_model = VISCOELASTIC)
relaxation_time = 1.0e6               # seconds
viscosity = 1.0e19                    # Pa·s

# Thermal properties
thermal_conductivity = 2.5            # W/(m·K)
heat_capacity = 900.0                 # J/(kg·K)
thermal_expansion = 1.0e-5            # 1/K

# Fracture mechanics properties
fracture_toughness = 1.0e6            # Pa·m^0.5
fracture_energy = 100.0               # J/m²

#==============================================================================
# FLUID PROPERTIES
#==============================================================================

[FLUID]
# Single-phase fluid properties (fluid_model = SINGLE_COMPONENT)
density = 1000.0                      # kg/m³
viscosity = 0.001                     # Pa·s (1 cP)
compressibility = 1.0e-9              # 1/Pa

# Black oil model properties (fluid_model = BLACK_OIL)
oil_density_std = 800.0               # kg/m³ at standard conditions
gas_density_std = 1.0                 # kg/m³
water_density_std = 1000.0            # kg/m³

oil_viscosity = 0.005                 # Pa·s (5 cP)
gas_viscosity = 0.00001               # Pa·s (0.01 cP)
water_viscosity = 0.001               # Pa·s (1 cP)

solution_GOR = 100.0                  # scf/stb (gas-oil ratio)

# Compositional model (fluid_model = COMPOSITIONAL)
# Comma-separated arrays for each component
component_mw = 16.04, 30.07, 44.10    # g/mol (CH4, C2H6, C3H8)
component_Tc = 190.6, 305.4, 369.8    # K (critical temperature)
component_Pc = 4.60e6, 4.88e6, 4.25e6 # Pa (critical pressure)
component_omega = 0.011, 0.099, 0.152 # Acentric factor

#==============================================================================
# WELLS
#==============================================================================

[WELL1]
name = PROD1                          # Well name
type = PRODUCER                       # PRODUCER, INJECTOR, OBSERVATION
i = 10                                # Grid index X (0-based)
j = 10                                # Grid index Y
k = 5                                 # Grid index Z
control_mode = RATE                   # RATE, BHP (bottomhole pressure), THP
target_value = 0.01                   # m³/s (if RATE) or Pa (if BHP)
max_rate = 0.1                        # m³/s (constraint)
min_bhp = 5.0e6                       # Pa (5 MPa, constraint)
diameter = 0.2                        # meters (8 inch wellbore)
skin = 0.0                            # Skin factor (dimensionless)

[WELL2]
name = INJ1
type = INJECTOR
i = 1
j = 1
k = 5
control_mode = RATE
target_value = 0.015                  # m³/s
max_rate = 0.2                        # m³/s
min_bhp = 50.0e6                      # Pa (50 MPa max injection pressure)
diameter = 0.15                       # meters
skin = 0.0

#==============================================================================
# FRACTURES
#==============================================================================

[FRACTURE1]
type = HYDRAULIC                      # NATURAL, HYDRAULIC, INDUCED_THERMAL
location = 500.0, 500.0, 50.0, 0.0, 1.0, 0.0  # x,y,z center + nx,ny,nz normal
aperture = 0.001                      # meters (1 mm)
permeability = 1.0e-10                # m² (or computed from cubic law)
toughness = 1.0e6                     # Pa·m^0.5 (fracture toughness KIC)
energy = 100.0                        # J/m² (fracture energy)
enable_propagation = true             # Allow fracture to grow
enable_proppant = true                # Track proppant if particle transport enabled

[FRACTURE2]
type = NATURAL
location = 250.0, 750.0, 50.0, 0.707, 0.707, 0.0
aperture = 0.0001                     # 0.1 mm (natural fracture)
permeability = 1.0e-12
toughness = 0.5e6
energy = 50.0
enable_propagation = false
enable_proppant = false

#==============================================================================
# FAULTS
#==============================================================================

[FAULT1]
name = MAIN_FAULT
strike = 1.0, 0.0, 0.0                # Unit vector (E-W trending)
dip = 0.0, 0.707, 0.707               # Unit vector (45° dip)
length = 2000.0                       # meters
width = 1500.0                        # meters
static_friction = 0.6                 # Byerlee's law
dynamic_friction = 0.4                # Dynamic friction coefficient
cohesion = 1.0e6                      # Pa (1 MPa)
use_rate_state = true                 # Enable rate-and-state friction
a_parameter = 0.010                   # Rate-state parameter a
b_parameter = 0.015                   # Rate-state parameter b (b>a: unstable)
Dc_parameter = 0.001                  # Critical slip distance (meters)

#==============================================================================
# PARTICLE / PROPPANT PROPERTIES
#==============================================================================

[PARTICLE]
diameter = 0.0003                     # meters (300 microns, 40/70 mesh)
density = 2650.0                      # kg/m³ (ceramic proppant)
concentration = 0.0                   # kg/m³ (initial concentration)
diffusivity = 1.0e-9                  # m²/s (Brownian diffusion)
enable_settling = true                # Gravitational settling
enable_bridging = false               # Proppant bridging/screen-out

#==============================================================================
# BOUNDARY CONDITIONS
#==============================================================================

[BC1]
type = DIRICHLET                      # DIRICHLET (specified value), NEUMANN (flux), ROBIN
field = PRESSURE                      # PRESSURE, TEMPERATURE, DISPLACEMENT
location = XMIN                       # XMIN, XMAX, YMIN, YMAX, ZMIN, ZMAX
value = 20.0e6                        # Pa (20 MPa)
gradient = 0.0                        # Used for Neumann BC (flux)

[BC2]
type = NEUMANN
field = DISPLACEMENT
location = ZMAX
value = 0.0
gradient = 0.0                        # Zero traction at top

[BC3]
type = DIRICHLET
field = TEMPERATURE
location = ZMIN
value = 400.0                         # K (hot bottom boundary)

#==============================================================================
# INITIAL CONDITIONS
#==============================================================================

[IC1]
field = PRESSURE
distribution = GRADIENT               # UNIFORM, GRADIENT, FILE
value = 20.0e6                        # Pa (base value)
gradient = 0.0, 0.0, 10000.0          # Pa/m (hydrostatic: ~1000 kg/m³ * 10 m/s²)
file =                                # Optional: path to file with IC data

[IC2]
field = TEMPERATURE
distribution = GRADIENT
value = 300.0                         # K (surface temperature)
gradient = 0.0, 0.0, 0.025            # K/m (geothermal gradient ~25°C/km)
file = 

[IC3]
field = SATURATION_OIL                # For multiphase
distribution = UNIFORM
value = 0.8                           # 80% oil saturation
gradient = 0.0, 0.0, 0.0

[IC4]
field = SATURATION_WATER
distribution = UNIFORM
value = 0.2                           # 20% water saturation
gradient = 0.0, 0.0, 0.0

#==============================================================================
# HETEROGENEITY - MULTIPLE ROCK TYPES
#==============================================================================
# Define multiple rock regions by adding [ROCK2], [ROCK3], etc.
# These will be assigned to different regions in the domain

[ROCK2]
# Example: Cap rock / seal
porosity = 0.05                       # Low porosity seal
permeability_x = 0.001                # Very low permeability
permeability_y = 0.001
permeability_z = 0.0001
youngs_modulus = 20.0e9               # Stiffer cap rock
poisson_ratio = 0.20

# Add more properties as needed...

#==============================================================================
# NOTES
#==============================================================================
# - Add as many wells as needed: [WELL1], [WELL2], [WELL3], ...
# - Add as many fractures as needed: [FRACTURE1], [FRACTURE2], ...
# - Add as many faults as needed: [FAULT1], [FAULT2], ...
# - Add as many boundary conditions as needed: [BC1], [BC2], ...
# - Add as many initial conditions as needed: [IC1], [IC2], ...
# - Rock types: [ROCK], [ROCK1], [ROCK2], ... for heterogeneous properties
# - Comments start with # or ;
# - Blank lines are ignored
# - Values can use scientific notation: 1.5e6 = 1,500,000
