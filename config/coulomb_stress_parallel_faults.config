# =============================================================================
# Coulomb Stress Distribution from Slip on Parallel Faults
# =============================================================================
#
# This configuration file defines parameters for calculating the Coulomb
# stress change (ΔCFF) distribution induced by slip on a source fault
# onto a parallel receiver fault.
#
# This analysis is fundamental for understanding:
# - Earthquake triggering and fault interaction
# - Stress shadows that inhibit future seismicity
# - Aftershock patterns and spatial distributions
#
# Usage:
#   ./coulomb_stress_parallel_faults -c config/coulomb_stress_parallel_faults.config
#
# =============================================================================

[SIMULATION]
name = coulomb_stress_parallel_faults
description = Coulomb stress transfer between parallel faults

# =============================================================================
# Source Fault Parameters (The fault that slips)
# =============================================================================
[SOURCE_FAULT]
# Fault geometry
x = 0.0                        # X position (m) - center
y = 0.0                        # Y position (m) - center
depth = 5000.0                 # Depth to fault center (m)

# Fault dimensions
length = 10000.0               # Along-strike length (m)
width = 5000.0                 # Down-dip width (m)

# Fault orientation
strike = 0.0                   # Strike azimuth (degrees from North)
dip = 90.0                     # Dip angle (degrees from horizontal)
rake = 0.0                     # Slip direction (0 = left-lateral strike-slip)

# Slip parameters
slip = 1.0                     # Slip magnitude (m)
slip_distribution = UNIFORM    # UNIFORM, TAPERED, GAUSSIAN

# =============================================================================
# Receiver Fault Parameters (The fault where stress is computed)
# =============================================================================
[RECEIVER_FAULT]
# Fault is parallel to source, offset in perpendicular direction
separation = 5000.0            # Distance from source fault (m)

# Receiver orientation (same as source for parallel faults)
# These can be modified to study non-parallel fault interactions
strike = 0.0                   # Same strike as source
dip = 90.0                     # Same dip as source

# Friction coefficient for Coulomb stress calculation
friction_coefficient = 0.4     # Effective μ' in ΔCFF = Δτ + μ'Δσn

# =============================================================================
# Material Properties
# =============================================================================
[MATERIAL]
# Elastic properties
shear_modulus = 30.0e9         # G (Pa) - typical crustal rock
poisson_ratio = 0.25           # ν - typical value
density = 2700.0               # ρ (kg/m³)

# Derived properties (computed automatically)
# youngs_modulus = 2*G*(1+ν) = 75 GPa
# bulk_modulus = 2*G*(1+ν)/(3*(1-2ν)) = 50 GPa
# P-wave velocity = sqrt((K + 4G/3)/ρ) ≈ 5800 m/s
# S-wave velocity = sqrt(G/ρ) ≈ 3300 m/s

# =============================================================================
# Computation Grid
# =============================================================================
[GRID]
# Grid for stress computation on receiver fault
nx = 100                       # Points along strike
nz = 50                        # Points down dip

# Grid extent
Lx = 30000.0                   # Along-strike extent (m)
Lz = 15000.0                   # Down-dip extent (m)

# Grid is centered on receiver fault position

# =============================================================================
# Output Options
# =============================================================================
[OUTPUT]
# Output directory
output_directory = output

# Output format options:
# - SNAPSHOT: Generate image files (PPM/PNG)
# - ASCII: Generate ASCII text data files
# - BOTH: Generate both image and ASCII files
output_format = BOTH

# Snapshot image settings
snapshot_width = 800           # Image width (pixels)
snapshot_height = 500          # Image height (pixels)
snapshot_colormap = BWR        # Blue-White-Red (diverging for ±ΔCFF)

# ASCII output settings
ascii_precision = 6            # Decimal places in output
ascii_include_header = true    # Include metadata header
ascii_coordinate_files = true  # Write separate x, z coordinate files

# Additional outputs
write_summary = true           # Write parameter summary file
write_gnuplot_script = true    # Write gnuplot visualization script

# =============================================================================
# Analysis Options
# =============================================================================
[ANALYSIS]
# Stress calculation method
stress_method = OKADA           # OKADA, ANALYTICAL, FEM

# Additional stress outputs
compute_shear_stress = true     # Δτ component
compute_normal_stress = true    # Δσn component
compute_total_stress = true     # Full stress tensor

# Statistics
compute_statistics = true       # Min, max, mean, etc.
histogram_bins = 50             # For ΔCFF distribution histogram

# =============================================================================
# Physical Interpretation Guide
# =============================================================================
#
# Coulomb Failure Function (CFF):
#   CFF = τ - μ(σn - P)
#   where τ = shear stress, σn = normal stress, μ = friction, P = pore pressure
#
# Coulomb Stress Change (ΔCFF):
#   ΔCFF = Δτ + μ'Δσn
#   where μ' = effective friction coefficient (includes pore pressure effects)
#
# Interpretation:
#   ΔCFF > 0: Fault brought closer to failure (promotes earthquakes)
#   ΔCFF < 0: Fault moved away from failure ("stress shadow")
#
# Typical stress change magnitudes:
#   - Large earthquakes (M7+): 0.1 - 10 MPa at nearby faults
#   - Moderate earthquakes (M5-6): 0.01 - 0.1 MPa
#   - Small earthquakes (M3-4): 0.001 - 0.01 MPa
#   - Triggering threshold: ~0.01 MPa (10 kPa) can be significant
#
# Expected pattern for parallel strike-slip faults:
#   - Positive lobes at fault ends (bilateral lobes at ~45°)
#   - Negative region (stress shadow) perpendicular to slip direction
#   - Symmetric pattern for uniform slip on vertical fault
#
# =============================================================================
# References
# =============================================================================
#
# King, G.C.P., Stein, R.S., and Lin, J. (1994). Static stress changes and
#   the triggering of earthquakes. Bulletin of the Seismological Society
#   of America, 84(3), 935-953.
#
# Okada, Y. (1992). Internal deformation due to shear and tensile faults
#   in a half-space. Bulletin of the Seismological Society of America,
#   82(2), 1018-1040.
#
# Stein, R.S. (1999). The role of stress transfer in earthquake occurrence.
#   Nature, 402(6762), 605-609.
#
# Toda, S., Stein, R.S., Richards-Dinger, K., and Bozkurt, S.B. (2005).
#   Forecasting the evolution of seismicity in southern California:
#   Animations built on earthquake stress transfer. Journal of Geophysical
#   Research, 110, B05S16.
#
# =============================================================================
