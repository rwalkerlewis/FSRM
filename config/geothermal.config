# Geothermal Reservoir Configuration
# Enhanced Geothermal System (EGS) with thermal effects

[SIMULATION]
start_time = 0.0
end_time = 157680000.0                # 5 years
dt_initial = 86400.0                  # 1 day
dt_min = 3600.0
dt_max = 2592000.0                    # 30 days
max_timesteps = 2000

output_frequency = 20
output_format = HDF5                  # HDF5 (default), VTK (secondary)
enable_checkpointing = true
checkpoint_frequency = 50

rtol = 1.0e-5                         # Looser tolerance for thermal
atol = 1.0e-7
max_nonlinear_iterations = 100
max_linear_iterations = 5000

fluid_model = SINGLE_COMPONENT        # Hot water
solid_model = THERMOELASTIC

enable_geomechanics = true
enable_thermal = true                 # Key physics for geothermal
enable_fractures = true               # Stimulated fractures
enable_particle_transport = false
enable_faults = true                  # Natural faults
enable_tidal_forces = false
adaptive_timestepping = true

[GRID]
nx = 40
ny = 40
nz = 30

# Deep reservoir: 2 km x 2 km x 1.5 km
Lx = 2000.0
Ly = 2000.0
Lz = 1500.0

use_unstructured = true              # All grids use DMPlex

[ROCK]
# Granite properties (typical geothermal reservoir)
porosity = 0.01                       # Very low porosity (1%)
permeability_x = 0.001                # 1 microDarcy (very tight)
permeability_y = 0.001
permeability_z = 0.0005

compressibility = 3.0e-10             # Very stiff

# Mechanical properties - granite
youngs_modulus = 50.0e9               # 50 GPa (very stiff)
poisson_ratio = 0.25
density = 2650.0                      # kg/m³ (granite)
biot_coefficient = 0.5                # Low due to very low porosity

# No viscoelasticity for granite at these timescales
relaxation_time = 1.0e10
viscosity = 1.0e25

# Thermal properties - HIGH for geothermal
thermal_conductivity = 3.0            # W/(m·K) - granite
heat_capacity = 790.0                 # J/(kg·K)
thermal_expansion = 8.0e-6            # 1/K - thermal stresses important

# Fracture properties - granite is hard and brittle
fracture_toughness = 2.0e6            # Pa·m^0.5 - high for granite
fracture_energy = 200.0               # J/m²

[FLUID]
# Hot water at reservoir conditions
density = 900.0                       # kg/m³ (hot water is less dense)
viscosity = 0.00015                   # Pa·s (0.15 cP - hot water less viscous)
compressibility = 5.0e-10             # 1/Pa (hot water more compressible)

# Not using black oil for geothermal
oil_density_std = 900.0
gas_density_std = 0.1
water_density_std = 900.0

oil_viscosity = 0.00015
gas_viscosity = 0.00001
water_viscosity = 0.00015

solution_GOR = 0.0                    # No gas
