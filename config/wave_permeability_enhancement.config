# Wave-Induced Permeability Enhancement Configuration
# Study instantaneous and time-dependent permeability changes from transient waves
# Applications: Enhanced oil recovery, geothermal stimulation, fault zone hydraulics

[SIMULATION]
start_time = 0.0
end_time = 1000.0                     # 1000 seconds
dt_initial = 0.01                     # 10 ms for wave resolution
dt_min = 0.001                        # 1 ms
dt_max = 1.0                          # 1 second for late time
max_timesteps = 50000

output_frequency = 100
output_format = HDF5
enable_checkpointing = true
checkpoint_frequency = 500

rtol = 1.0e-6
atol = 1.0e-8
max_nonlinear_iterations = 40
max_linear_iterations = 2000

fluid_model = SINGLE_COMPONENT
solid_model = POROELASTODYNAMIC

enable_geomechanics = true
enable_poroelastodynamics = true
enable_thermal = false
enable_fractures = false
enable_particle_transport = false
enable_faults = false
enable_tidal_forces = false

# Dynamic mode with permeability tracking
use_dynamic_mode = true
use_static_triggering = false

# Focus on permeability dynamics
enable_dynamic_permeability_change = true
permeability_sensitivity = 3.0        # Very sensitive
permeability_recovery_time = 500.0    # 500 second recovery

adaptive_timestepping = true

[GRID]
nx = 100
ny = 100
nz = 50

# Domain: 500 m x 500 m x 250 m (detailed study)
Lx = 500.0
Ly = 500.0
Lz = 250.0

use_unstructured = true              # All grids use DMPlex

[ROCK]
# Fractured reservoir rock
porosity = 0.15                       # 15% porosity
permeability_x = 50.0                 # 50 mD
permeability_y = 50.0
permeability_z = 25.0

compressibility = 1.0e-9

# Mechanical properties
youngs_modulus = 20.0e9               # 20 GPa
poisson_ratio = 0.22
density = 2450.0                      # kg/m³
biot_coefficient = 0.85

# Wave properties
p_wave_velocity = 4000.0
s_wave_velocity = 2300.0
quality_factor = 60.0                 # Moderate attenuation

damping_alpha = 0.015
damping_beta = 0.0015

# Strong permeability-strain coupling (key feature!)
permeability_strain_coeff = 2.0e-6    # Very strong volumetric strain effect
permeability_stress_coeff = 1.0e-14   # Stress-dependent permeability
min_permeability = 5.0                # mD (can't close completely)
max_permeability = 500.0              # mD (10x enhancement possible!)

[FLUID]
# Oil (more viscous, shows enhanced recovery)
density = 850.0                       # kg/m³
viscosity = 0.005                     # Pa·s (5 cP)
compressibility = 1.0e-9

[WELL1]
# Producer (baseline)
name = PRODUCER_BASE
type = PRODUCER
i = 25
j = 50
k = 25
control_mode = BHP
target_value = 10.0e6                 # 10 MPa BHP
max_rate = 0.1
diameter = 0.15
skin = 0.0

[WELL2]
# Producer (test well for enhanced recovery)
name = PRODUCER_ENHANCED
type = PRODUCER
i = 75
j = 50
k = 25
control_mode = BHP
target_value = 10.0e6
max_rate = 0.1
diameter = 0.15
skin = 0.0

[WELL3]
# Wave source (seismic stimulation)
name = WAVE_SOURCE
type = INJECTOR
i = 50
j = 50
k = 10
control_mode = RATE
target_value = 0.0                    # Pulsed injection
max_rate = 0.5
diameter = 0.2
skin = 0.0

[BC1]
# Constant pressure boundaries
type = DIRICHLET
field = PRESSURE
location = XMIN
value = 20.0e6                        # 20 MPa

[BC2]
type = DIRICHLET
field = PRESSURE
location = XMAX
value = 20.0e6

[BC3]
type = DIRICHLET
field = PRESSURE
location = YMIN
value = 20.0e6

[BC4]
type = DIRICHLET
field = PRESSURE
location = YMAX
value = 20.0e6

[BC5]
# Free drainage at top
type = NEUMANN
field = PRESSURE
location = ZMAX
value = 0.0
gradient = 0.0

[BC6]
# No flow at bottom
type = NEUMANN
field = PRESSURE
location = ZMIN
value = 0.0
gradient = 0.0

[IC1]
# Initial reservoir pressure
field = PRESSURE
distribution = GRADIENT
value = 15.0e6                        # 15 MPa at top
gradient = 0.0, 0.0, 10000.0

[IC2]
# Initial displacement
field = DISPLACEMENT
distribution = UNIFORM
value = 0.0

# NOTES FOR USAGE:
# - Wave source can be pulsed to generate repeated wave trains
# - Monitor permeability field evolution over time
# - Compare production rates at wells with/without wave stimulation
# - Permeability recovery shows how long enhancement lasts
# - Can model: seismic stimulation, earthquake-induced changes, vibroseis
