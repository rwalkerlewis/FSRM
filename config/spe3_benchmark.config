# SPE3 Benchmark Configuration
# Gas Cycling of Retrograde Condensate Reservoirs

[SIMULATION]
name = SPE3_GasCycling
start_time = 0.0
end_time = 3.1536e8              # 10 years in seconds
dt_initial = 8.64e4               # 1 day
dt_min = 1.0e3
dt_max = 8.64e5                   # 10 days
max_time_steps = 1000
output_frequency = 10
output_format = HDF5
output_dir = output/spe3

# Physics models
fluid_model = COMPOSITIONAL
enable_geomechanics = false
enable_thermal = false

# Solver settings
rtol = 1.0e-6
atol = 1.0e-8
max_iterations = 50

[GRID]
type = CARTESIAN
nx = 9
ny = 9
nz = 4
Lx = 304.8                        # 1000 ft in meters
Ly = 304.8
Lz = 15.24                        # 50 ft in meters

[ROCK]
porosity = 0.30
permeability_x = 500.0            # milliDarcy
permeability_y = 500.0
permeability_z = 50.0             # Anisotropic
compressibility = 4.35e-10        # 1/Pa
density = 2650.0

[FLUID]
# Compositional model - 4 components
num_components = 4

# Component properties
component_names = C1, C3, C6, C10
component_mw = 16.04, 44.10, 86.18, 142.28        # g/mol
component_tc = 190.6, 369.8, 507.4, 617.6         # K (Critical temp)
component_pc = 4.60e6, 4.25e6, 3.01e6, 2.11e6     # Pa (Critical pressure)
component_omega = 0.011, 0.152, 0.299, 0.488      # Acentric factor

# Initial composition (mole fractions)
initial_composition = 0.50, 0.03, 0.07, 0.40

# Injection gas composition
injection_composition = 0.77, 0.20, 0.03, 0.00

[PRESSURE]
# Initial pressure
initial_pressure = 3.45e7         # 5000 psi

# Pressure gradient (hydrostatic)
pressure_gradient_z = 9810.0      # Pa/m

[WELL1]
name = PROD1
type = PRODUCER
i = 1
j = 1
k = 1
kmax = 4
diameter = 0.1524                 # 6 inches
control_mode = BHP
target_bhp = 1.72e7               # 2500 psi
max_rate = 0.01                   # m³/s

[WELL2]
name = INJE1
type = INJECTOR
i = 9
j = 9
k = 1
kmax = 4
diameter = 0.1524
fluid_type = GAS
control_mode = RATE
target_rate = 0.005               # m³/s (gas)
max_bhp = 5.52e7                  # 8000 psi

[BC1]
type = NEUMANN
field = PRESSURE
location = ALL
value = 0.0                       # No-flow boundaries

[OUTPUT]
save_pressure = true
save_saturation = true
save_composition = true
save_well_data = true
save_performance_data = true
